<div class="container" data-ng-controller="tutorialListController">
    <div class="page-header">
        <h2>Tutorials</h2>
        <span data-ng-if="$root.currentUser" class="fa fa-plus fa-2x btn" data-ng-class="{'fa fa-minus fa-2x btn add-tutorial': showForm, 'fa fa-plus fa-2x btn add-tutorial': !showForm}" data-ng-click="newTutorialForm()"></span>
    </div>
    <div data-ng-if="$root.currentUser">
        <div class="col-xs-12">
            <div data-ng-show="showForm" data-ng-include="'views/partials/submitTutorial.html'"></div>
        </div>
    </div>
    <p class="text-center" data-ng-show="loading">
        <span class="fa fa-spinner fa-5x fa-spin"></span>
    </p>
    <div class="col-lg-12">
        <div class="tutorial col-lg-4 col-md-6 col-xs-12" data-ng-hide="loading" data-ng-repeat="tutorial in tutorials track by $index" data-ui-sref="tutorials.detail({ tutorialId: tutorial.id })">
            <div>
                <h3>{{ tutorial.title }}</h3>
                <p>{{ tutorial.content | htmlToPlaintext | cut:true:90:' ...' }}</p>

                <p data-ng-if="$root.currentUser"><a class="btn" data-ng-click="deleteTutorial(tutorial.id)" class="text-muted" data-stop-event>Delete</a></p>
            </div>
        </div>
    </div>
</div>